{% extends '/user/base_user.html' %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='style/product.css') }}">

<main>
   <div class="product-container">
      <img class="product-image" src="{{ product.Product_pict }}" alt="{{ product.Name }}">

      <div class="product-details">
         <h1 class="product-title">{{ product.Name }}</h1>
         <p class="product-author">by {{ product.Author }}</p>
         <p class="product-price">${{ product.Price }}</p>

         <div class="product-meta">
            <div><strong>Category:</strong><span id="category"> {{ product.Category }}</span></div><br>
            <div><strong>Stock Quantity:</strong> <span id="stock">{{ product.Stock_quantity }}</span></div><br>
            <div><strong>Sales Count:</strong> <span id="sales">{{ product.Sale_count }}</span></div>
         </div>

         <p class="product-description">
            {{ product.Desc }}
         </p>

         <div class="actions">
            <button class="add-to-cart" onclick="addToCart()">Add to Cart</button>
            <button class="buy-now" onclick="buyNow()">Buy Now</button>
         </div>
         </div>
   </div>

   <div class="reviews">
      <h2>Customer Reviews</h2>
      {% if reviews|length > 0 %}
         {% for review in reviews %}
            <div class="rev-box">
               <div class="rev-title">
                  <!-- name -->
                  <div class="rev-name">
                     <span>{{review.FName}}</span>
                     {% if review.LName %}
                        <span>{{review.LName}}</span>
                     {% endif %}
                  </div>
                  <!-- rate -->
                  {% for i in range(5) %}
                     {% if review.Rate and i < review.Rate %}
                        <i class="fa-solid fa-star yellow"></i>
                     {% else %}
                        <i class="fa-solid fa-star gray"></i>
                     {% endif %}
                  {% endfor %}
                  <!-- time -->
               </div>
               <span class="rev-time">{{review.Time}}</span>
               <div class="rev-text">
                  <span>{{review.Text}}</span>
               </div>
            </div>
            {% if loop.index < reviews|length %}
               <hr>
            {% endif %}
         {% endfor %}
      {% else %}
         <div class="no-review">
            <span>No reviews yet ! Be the first to share your thoughts</span>
            <i class="fa-regular fa-face-smile"></i>
         </div>
      {% endif %}
   </div>
</main>

<div class="nothing2"></div>

{% endblock %}